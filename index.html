<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Studio De l'Arnet Mixer Magic</title>
<style>
  body {
    font-family: 'Arial', sans-serif;
    margin:0; padding:0;
    background: linear-gradient(135deg,#1a1a2e,#4b0082);
    color:#fff;
    text-align:center;
    overflow-x:hidden;
  }
  h1 { font-size:2.5rem; margin-top:1rem; text-shadow:2px 2px 5px #000; }
  h2 { margin-top:1rem; }

  button {
    font-size:1.3rem;
    padding:1rem 2rem;
    margin:0.7rem;
    cursor:pointer;
    border-radius:12px;
    border:none;
    transition:transform 0.2s, box-shadow 0.2s;
    font-weight:bold;
  }
  button:hover { transform:scale(1.05); box-shadow:0 0 15px #fff; }
  .fortune-btn { background:#ff6f61; color:#fff; }
  .song-btn { background:#ffda61; color:#000; }
  .vibe-btn { background:#61ffda; color:#000; }

  .hidden { display:none; }

  .result-card {
    margin:2rem auto;
    background: rgba(22,36,71,0.9);
    padding:2rem;
    border-radius:16px;
    width:80%;
    max-width:450px;
    box-shadow:0 0 20px #fff;
    font-size:1.2rem;
  }

  #shareCard {
    margin:1rem auto;
    border-radius:12px;
    display:block;
    box-shadow:0 4px 20px rgba(0,0,0,0.6);
  }
</style>
</head>
<body>

<h1>Studio De l'Arnet Mixer Magic âœ¨ðŸŽ§</h1>
<p style="font-size:1.2rem;">Your vibe, your fortune, your theme song for 2026!</p>

<!-- Disco homepage preview -->
<div id="homepage" style="position:relative; width:100%; height:250px; overflow:hidden; margin-bottom:2rem;">
  <canvas id="sparkleCanvas" width="400" height="250" style="width:100%; height:250px;"></canvas>
</div>

<div id="step1">
  <button id="fortuneBtn" class="fortune-btn">Give Me My 2026 Fortune ðŸ”®</button>
  <button id="songBtn" class="song-btn">Give Me My 2026 Theme Song ðŸŽµ</button>
</div>

<div id="step2" class="hidden">
  <h2 id="vibePrompt">Pick your vibe</h2>
  <div id="vibeButtons"></div>
</div>

<div id="step3" class="hidden">
  <div class="result-card" id="resultCard"></div>
  <div id="extras" class="hidden">
    <button id="spotifyBtn" class="song-btn hidden">Save to Spotify ðŸŽµ</button>
    <button id="shareBtn" class="vibe-btn">Share Your Vibe Card ðŸ“¸</button>
  </div>
  <canvas id="shareCard" class="hidden"></canvas>
</div>

<script>
// Attach button handlers
document.addEventListener('DOMContentLoaded', ()=>{
  document.getElementById('fortuneBtn').addEventListener('click', ()=>chooseMode('fortune'));
  document.getElementById('songBtn').addEventListener('click', ()=>chooseMode('song'));
  document.getElementById('shareBtn').addEventListener('click', sharePolaroid);
  document.getElementById('spotifyBtn').addEventListener('click', saveToSpotify);
});

// Sparkle animation for homepage
const canvasH=document.getElementById('sparkleCanvas');
const ctxH=canvasH.getContext('2d');
const sparkles=[];
for(let i=0;i<50;i++){
  sparkles.push({x:Math.random()*canvasH.width,y:Math.random()*canvasH.height,r:1+Math.random()*2,d:Math.random()*0.02});
}
function drawSparkles(){
  ctxH.clearRect(0,0,canvasH.width,canvasH.height);
  sparkles.forEach(s=>{
    ctxH.beginPath();
    ctxH.arc(s.x,s.y,s.r,0,Math.PI*2);
    ctxH.fillStyle="#fff";
    ctxH.globalAlpha=0.5+0.5*Math.sin(s.d*Date.now());
    ctxH.fill();
  });
  requestAnimationFrame(drawSparkles);
}
drawSparkles();

// DATA
const vibes = [
  {name:"Playful",emoji:"âœ¨"},
  {name:"Fierce",emoji:"ðŸ”¥"},
  {name:"Mysterious",emoji:"ðŸ”®"},
  {name:"Creative",emoji:"ðŸŽ¨"},
  {name:"Chaos",emoji:"ðŸ¤¡"},
  {name:"Grounded",emoji:"ðŸ§˜"},
  {name:"Wildcard",emoji:"ðŸŽ²"}
];

const fortunes={
  Playful:["Your laughter is your superpower; use it liberally this year.","Unexpected joy will find you in the most curious places."],
  Fierce:["2026 is your year to roar; your boldness opens doors.","Strength comes from confidenceâ€”own every step forward."],
  Mysterious:["Secrets you uncover will spark your creativity.","Embrace the unknown; it holds your next big adventure."],
  Creative:["Your imagination is a magnet for exciting opportunities.","Inspiration strikes when you least expect itâ€”stay ready."],
  Chaos:["A little chaos brings colorful surprises your way.","Trust the whirlwind; it leads to unexpected brilliance."],
  Grounded:["Your calm presence stabilizes those around you.","Focus and patience unlock rewards this year."],
  Wildcard:["Something delightful and unusual will brighten your day.","Expect the unexpected and relish it."]
};

const songs={
  Playful:["Good Times - Chic","Walking on Sunshine - Katrina & The Waves","September - Earth, Wind & Fire"],
  Fierce:["Eye of the Tiger - Survivor","Respect - Aretha Franklin","Barracuda - Heart"],
  Mysterious:["Dreams - Fleetwood Mac","Riders on the Storm - The Doors","Black Magic Woman - Santana"],
  Creative:["Bohemian Rhapsody - Queen","Life on Mars? - David Bowie","Superstition - Stevie Wonder"],
  Chaos:["Sabotage - Beastie Boys","Shake It Out - Florence + The Machine","Crosstown Traffic - Jimi Hendrix"],
  Grounded:["Lovely Day - Bill Withers","Here Comes The Sun - The Beatles","Lean on Me - Bill Withers"],
  Wildcard:["Space Oddity - David Bowie","Starman - David Bowie","Magic Carpet Ride - Steppenwolf"]
};

let mode="", lastResult="", lastVibe="";

function chooseMode(selectedMode){
  mode=selectedMode;
  document.getElementById('step1').classList.add('hidden');
  document.getElementById('step2').classList.remove('hidden');
  const vibeButtonsDiv=document.getElementById('vibeButtons');
  vibeButtonsDiv.innerHTML="";
  vibes.forEach(v=>{
    let btn=document.createElement('button');
    btn.className='vibe-btn';
    btn.textContent=`${v.emoji} ${v.name}`;
    btn.onclick=()=>revealResult(v.name);
    vibeButtonsDiv.appendChild(btn);
  });
  document.getElementById('vibePrompt').textContent=
    mode==='fortune'?"Pick your vibe for a Fortune ðŸ”®":"Pick your vibe for a Theme Song ðŸŽµ";
}

function revealResult(vibe){
  lastVibe=vibe;
  document.getElementById('step2').classList.add('hidden');
  document.getElementById('step3').classList.remove('hidden');
  const resultDiv=document.getElementById('resultCard');
  document.getElementById('extras').classList.remove('hidden');
  if(mode==='fortune'){
    const fortuneList=fortunes[vibe];
    const randomFortune=fortuneList[Math.floor(Math.random()*fortuneList.length)];
    lastResult=randomFortune;
    resultDiv.innerHTML=`<h2>ðŸ”® Your 2026 Fortune</h2><p>${randomFortune}</p>`;
    document.getElementById('spotifyBtn').classList.add('hidden');
  }else{
    const songList=songs[vibe];
    const randomSong=songList[Math.floor(Math.random()*songList.length)];
    lastResult=randomSong;
    resultDiv.innerHTML=`<h2>ðŸŽµ Your 2026 Theme Song</h2><p>${randomSong}</p>`;
    document.getElementById('spotifyBtn').classList.remove('hidden');
  }
  launchConfetti();
}

// Extras
function saveToSpotify(){ window.open(`https://open.spotify.com/search/${encodeURIComponent(lastResult)}`,"_blank"); }

// Confetti animation
function launchConfetti() {
  const duration = 2 * 1000;
  const end = Date.now() + duration;
  (function frame() {
    const colors = ['#ff0a54','#ff477e','#ff85a1','#fbb1b1','#f9bec7','#f0f0f0'];
    const confettiCanvas = document.createElement('canvas');
    confettiCanvas.style.position = 'fixed';
    confettiCanvas.style.top = 0;
    confettiCanvas.style.left = 0;
    confettiCanvas.style.width = '100%';
    confettiCanvas.style.height = '100%';
    confettiCanvas.style.pointerEvents = 'none';
    document.body.appendChild(confettiCanvas);
    const ctx = confettiCanvas.getContext('2d');
    confettiCanvas.width = window.innerWidth;
    confettiCanvas.height = window.innerHeight;
    const confettis = [];
    for(let i=0;i<150;i++){
      confettis.push({
        x: Math.random()*window.innerWidth,
        y: Math.random()*window.innerHeight - window.innerHeight,
        r: 2+Math.random()*4,
        d: Math.random()*100,
        color: colors[Math.floor(Math.random()*colors.length)],
        tilt: Math.floor(Math.random()*10)-10
      });
    }
    function draw(){
      ctx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);
      confettis.forEach(c=>{
        ctx.beginPath();
        ctx.moveTo(c.x+c.tilt,c.y);
        ctx.lineTo(c.x,c.y+c.r);
        ctx.strokeStyle=c.color;
        ctx.lineWidth=c.r;
        ctx.stroke();
        c.y += 3;
        c.tilt += 0.1;
        if(c.y > confettiCanvas.height) c.y = -10;
      });
      if(Date.now() < end){
        requestAnimationFrame(draw);
      } else {
        document.body.removeChild(confettiCanvas);
      }
    }
    draw();
  })();
}

// Polaroid card
function sharePolaroid(){
  const canvas=document.getElementById('shareCard');
  canvas.classList.remove('hidden');
  const ctx=canvas.getContext('2d');
  canvas.width=400; canvas.height=500;

  // Gradient background per vibe
  let gradient=ctx.createLinearGradient(0,0,0,canvas.height);
  switch(lastVibe){
    case "Playful": gradient.addColorStop(0,"#ff9a9e"); gradient.addColorStop(1,"#fad0c4"); break;
    case "Fierce": gradient.addColorStop(0,"#ff416c"); gradient.addColorStop(1,"#ff4b2b"); break;
    case "Mysterious": gradient.addColorStop(0,"#2c3e50"); gradient.addColorStop(1,"#4ca1af"); break;
    case "Creative": gradient.addColorStop(0,"#43cea2"); gradient.addColorStop(1,"#185a9d"); break;
    case "Chaos": gradient.addColorStop(0,"#f7971e"); gradient.addColorStop(1,"#ffd200"); break;
    case "Grounded": gradient.addColorStop(0,"#00c6ff"); gradient.addColorStop(1,"#0072ff"); break;
    case "Wildcard": gradient.addColorStop(0,"#fbc2eb"); gradient.addColorStop(1,"#a6c1ee"); break;
    default: gradient.addColorStop(0,"#8e2de2"); gradient.addColorStop(1,"#ff416c");
  }
  ctx.fillStyle=gradient;
  ctx.fillRect(0,0,canvas.width,canvas.height);

  // Polaroid frame
  ctx.strokeStyle="#fff"; ctx.lineWidth=10;
  ctx.strokeRect(10,10,canvas.width-20,canvas.height-20);
  ctx.fillStyle="#fff"; ctx.fillRect(10,canvas.height-60,canvas.width-20,50);

  // Decorative sparkles
  for(let i=0;i<40;i++){
    ctx.fillStyle="#fff"; 
    const x=Math.random()*canvas.width;
    const y=Math.random()*canvas.height;
    const size=1+Math.random()*3;
    ctx.beginPath(); ctx.arc(x,y,size,0,Math.PI*2); ctx.fill();
  }

  // Title (bigger)
  ctx.fillStyle="#fff"; 
  ctx.font="bold 32px Arial"; 
  ctx.textAlign="center";
  ctx.fillText(mode==='fortune'?"ðŸ”® Your 2026 Fortune":"ðŸŽµ Your 2026 Theme Song",canvas.width/2,50);

  // Vibe emoji
  const vibeIcons={Playful:"âœ¨ðŸŽ‰",Fierce:"ðŸ”¥ðŸ’ª",Mysterious:"ðŸ”®",Creative:"ðŸŽ¨ðŸŽ¶",Chaos:"ðŸ¤¡ðŸŽ²",Grounded:"ðŸ§˜ðŸƒ",Wildcard:"ðŸŽ²ðŸŒŸ"};
  const emoji=vibeIcons[lastVibe]||"ðŸŽ²";
  ctx.fillText(emoji,canvas.width/2,95);

  // Main text (bigger and centered)
  ctx.fillStyle="#000"; 
  ctx.font="bold 22px Arial"; 
  wrapText(ctx,lastResult,canvas.width/2,140,340,30); 

  // Footer branding
  ctx.fillStyle="#000"; 
  ctx.font="16px Arial";
  ctx.fillText("Studio De lâ€™Arnet âœ¨ @studio.del.arnet",canvas.width/2,canvas.height-35);
}

// Text wrapping for canvas
function wrapText(ctx,text,x,y,maxWidth,lineHeight){
  const words=text.split(' '); let line='';
  for(let n=0;n<words.length;n++){
    const testLine=line+words[n]+' ';
    const metrics=ctx.measureText(testLine);
    const testWidth=metrics.width;
    if(testWidth>maxWidth && n>0){
      ctx.fillText(line,x,y);
      line=words[n]+' '; y+=lineHeight;
    }else{ line=testLine; }
  }
  ctx.fillText(line,x,y);
}
</script>

</body>
</html>
